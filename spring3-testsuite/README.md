spring3-testsuite
====================

A suite of tests for the swagger-springmvc project

- Deploys the swagger-ui code as generated by the sub-project 'swagger-ui'
- If tests start failing or the oauth integration stops foring the 1st place to look is 'swaggerUiInclude.gradle'
which does code replacement on some of the swagger ui files

#### Running the app:

```./gradlew :spring3-testsuite:tomcatRun -i```

Browse to: http://localhost:9080/spring3-testsuite/index.html


#### Functional tests:

Api level/integration tests that hit a running server to verify http json responses

```
./gradlew :spring3-testsuite:functionalTest -i

```


#### Swagger UI Oauth Support

Update swagger-oauth.js as appropriate for your app

```javascript
var redirectUrl = host.protocol + '//' + host.host + "/spring3-testsuite/o2c.html";
```

#### Where is the swagger-ui static content?
The swagger ui code is added at runtime via 'swaggerUiInclude.gradle' build the project first if you want to inspect
the swagger-ui code.

#### Acceptance tests
- Running from ide add a jvm param: `-Dgeb.env=chrome` or `-Dgeb.env=firefox`

```
-Dgeb.env=chrome -Dwebdriver.chrome.driver=/home/adrian/development/swagger-springmvc-demo/build/drivers/chrome/chromedriver
```

- Download chrome driver `./gradlew downloadChrome`

- Headless phantomjs

```
-ea -Dgeb.env=phantom -Dphantomjs.binary.path=/opt/phantomjs-1.9.7-linux-x86_64/bin/phantomjs

```

Running functional and acceptance test

```
./gradlew build :spring3-testsuite:tomcatRun :spring3-testsuite:functionalTest :spring3-testsuite:acceptanceTestPhantom -i --stacktrace
```

